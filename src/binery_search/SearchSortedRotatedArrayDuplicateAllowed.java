package binery_search;

public class SearchSortedRotatedArrayDuplicateAllowed {

    public static void main(String... args){
        int[] arr = new int[]{4002,4027,4153,4163,4245,4460,4515,4586,4599,4637,4703,4758,4870,4880,5008,5126,5262,
                5468,5574,5622,5772,5869,5869,5976,6050,6370,6445,6454,6518,6537,6538,6562,6655,6852,6903,6947,7007,
                7208,7339,7427,7676,7678,7712,7795,7804,7957,8042,8070,8122,8238,8261,8425,8444,8489,8567,8708,8736,
                8782,8810,8825,8902,8903,8952,8992,9020,9041,9056,9090,9138,9203,9309,9376,9419,9434,9490,9558,9931,
                9978,-9967,-9949,-9948,-9934,-9855,-9783,-9777,-9633,-9592,-9509,-9477,-9446,-9439,-9411,-9322,-9288,
                -9231,-9228,-9204,-9194,-9106,-9040,-9004,-8983,-8820,-8775,-8710,-8610,-8592,-8497,-8163,-8063,-7794,
                -7616,-7541,-7409,-7368,-7331,-7328,-7316,-7231,-7224,-7112,-7038,-7034,-7016,-6899,-6774,-6727,-6607,
                -6599,-6543,-6393,-6373,-6286,-6281,-6003,-5888,-5761,-5757,-5695,-5647,-5641,-5632,-5622,-5480,-5457,
                -5423,-5298,-5191,-5177,-5121,-5121,-5064,-4994,-4971,-4928,-4869,-4796,-4725,-4604,-4589,-4540,-4505,
                -4465,-4309,-4180,-4174,-3962,-3960,-3893,-3733,-3726,-3718,-3681,-3496,-3472,-3333,-3280,-3154,-3070,
                -3067,-3041,-2879,-2879,-2674,-2653,-2510,-2487,-2455,-2445,-2391,-2385,-2375,-2349,-2156,-2089,-2079,
                -2014,-1978,-1918,-1908,-1908,-1871,-1636,-1463,-1457,-1447,-1360,-1355,-1317,-1281,-1261,-1163,-1117,
                -1073,-1069,-1049,-1035,-1018,-981,-900,-828,-608,-573,-554,-488,-324,-319,-204,-97,-60,82,98,207,401,
                502,703,751,763,804,864,973,1000,1015,1025,1099,1145,1147,1151,1182,1186,1203,1283,1412,1417,1427,1572,
                1591,1708,1743,1751,1855,1877,1948,1978,2003,2012,2043,2063,2115,2259,2278,2451,2556,2594,2609,2698,2715,
                2724,2761,2806,2872,3126,3186,3239,3322,3446,3454,3547,3553,3562,3666,3759,3890};

        int target = -1918;
        boolean value = search(arr, target);
        if (value){
            System.out.println("element found");
        } else {
            System.out.println("element not found");
        }
    }

    public static boolean search(int[] arr, int target) {
        int low = 0, high = arr.length-1;

        while(low <= high){
            int mid = low + (high-low)/2;

            if(arr[mid] == target){
                return true;
            }

            if(arr[mid] > arr[low]) {
                if(arr[low] <= target && target < arr[mid]) {
                    high = mid-1;
                } else{
                    low = mid+1;
                }
            } else if (arr[mid] < arr[high]){
                if(arr[high] >= target && target > arr[mid]){
                    low = mid+1;
                } else{
                    high = mid-1;
                }
            } else{
                if (arr[low] == target || arr[high] == target)
                    return true;
                low++;
                high--;
            }
        }

        return false;
    }
}

